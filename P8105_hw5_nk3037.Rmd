---
title: "P8105_mtp_nk3037"
author: "Navya Koneripalli"
date: "2023-10-23"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readxl)
```

## Question 2
```{r}
# Create a dataframe with all the file names
file_names = list.files(path = "./data", pattern = ".csv", full.names = TRUE)

# Separate arm and subject id and combie into a single dataframe
data <- file_names %>%
  map_df(~ read.csv(.x) %>%
            mutate(subject_id = str_extract(basename(.x), "\\d+"),
                   arm = str_extract(basename(.x), "con|exp")))  
# Remove unnecessary columns and convert to numeric
tidy_data <- data %>%
  gather(week, observation, -subject_id, -arm) %>%
  mutate(week = as.numeric(str_extract(week, "\\d+")))

```



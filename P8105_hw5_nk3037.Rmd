---
title: "P8105_mtp_nk3037"
author: "Navya Koneripalli"
date: "2023-10-23"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readxl)
```

## Question 1
```{r}
# Loading in the data and creating a list of all file names
study_data = "./data"
file_names = list.files(study_data, pattern = "\\.csv", full.names = TRUE)

# Separating filename into subject ID and arm
file_info = data.frame(file_name = basename(file_names)) %>%
  separate(file_name, into = c("subject_id", "arm"), sep = "_|\\.")

# Creating a data frame for every participant
data_frames = lapply(file_names, function(file) {
  read.csv(file)
})

# Joined all the individual data frame into a single one
tidy_data = bind_rows(data_frames, .id = "participant") %>%
  left_join(file_info, by = c("participant" = "subject_id", "arm")) %>%
  select(participant, subject_id, arm, everything())
```

